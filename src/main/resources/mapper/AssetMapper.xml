<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="fingertips.backend.asset.mapper.AssetMapper">
    <select id="getAllAssets" resultType="AssetDTO">
        SELECT
            asset_idx AS assetIdx,
            asset_type AS assetType,
            bank_name AS bankName,
            asset_name AS assetName,
            asset_image AS assetImage,
            connected_status AS connectedStatus
        FROM asset
        WHERE member_idx = #{memberIdx}
    </select>

    <update id="connectCard" parameterType="Integer">
        UPDATE asset
        SET connected_status = 1
        WHERE asset_idx = #{assetIdx}
    </update>

    <update id="connectAccount" parameterType="Integer">
        UPDATE asset
        SET connected_status = 1
        WHERE asset_idx = #{assetIdx}
    </update>

    <update id="disconnectCard" parameterType="Integer">
        UPDATE asset
        SET connected_status = 0
        WHERE asset_idx = #{assetIdx}
    </update>

    <update id="disconnectAccount" parameterType="Integer">
        UPDATE asset
        SET connected_status = 0
        WHERE asset_idx = #{assetIdx}
    </update>
</mapper>
